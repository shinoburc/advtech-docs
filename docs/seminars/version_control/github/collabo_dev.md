---
sidebar_position: 5
---

# 共同で開発する

## 下準備

- GitHub 上にあげた `try_github` リポジトリをそのまま利用してパートナーと共同で開発を進める.
- どちらかのリポジトリで共同開発をするので、一つリポジトリを選び、Collaborator として追加せよ。
- Collaborator として追加された人は、まずは、ローカルリポジトリの `try_github` リポジトリを一旦削除し、パートナーのリポジトリを clone し直す

## 開発テーマ

ふたつの引数を受け取り、足し算するクラスと引き算するクラスを作成し、Main から呼び出す。

- 役割分担
  - 足し算クラスを作る人
  - 引き算クラスを作る人

で役割を分担する。

  - Main からの呼び出しを書く人 (引数はなんでもいい)

はどちらか一名が担当する

## Branch を作成し commit , push する

**Branch の作り方**
[チーム] -> [接続の管理] -> [ホーム] -> [プロジェクト] -> [ブランチ] 
- master ブランチを選択(ブランチ元を選んでいる)して、右クリックで `新しいローカルブランチ` を選択
- ブランチ名 に `dev-add` または `dev-sub` と記入し、`ブランチの作成` ボタンを押す
- Project アイコンの右下に作成したブランチ名が記載されていればOK

**変更を加える**

`Add`クラス または `Sub`クラスを作成する。( 担当のものを作成する )

```cs
class Add {

}
```

この時点で一度 commit する。

```cs
class Add {

    public int add(int a, int b) {
        return a + b;
    }
}
```

加算メソッドもしくは減算メソッドを加え、commit し、push する。

## ミニ演習

担当を分けて作ったコードの内容をレビューする。

GitHub 上から `Pull Request` を作成せよ

- GitHub の `try_github` のリポジトリページに行き、`Pull Request` を作成する。作成の以下を入力
  - Title : `加算メソッドの追加` ( または 減算メソッドの追加 )
  - Comment : `@<相手のアカウント名> レビューとマージお願いします。`
- パートナーの Pull Request の中身を確認する

## 他人のブランチをローカルに持ってくる

- git clone を使って相手のブランチをローカルに持ってくる
- 新しくBranch を作成
- パートナーが作成したクラスが存在することを確認せよ。
- エラーが出ていないことを確認せよ。

## Merge する

- エラーが出ていないことを確認したら、GitHub に戻り、Pull Request のマージボタンを押せ。その際に Delete Branch ボタンも押せ。
- Comment 欄に `LGTM` (Looks good to me : よく見える の意) とコメントせよ。
- リポジトリのトップページの右側にある `Insights` をクリックし、`Network` のタブを選択し、ブランチの様子を確認しろ

## リモートブランチから変更を取り込む

### ミニ演習

- Visual Studio に戻り、`master` ブランチに移動せよ
- Pull を行い、変更を取り込め

**ブランチの削除**

master ブランチに変更を取り込むと、ローカルにあるブランチも必要無くなるので、削除する
- 右下の `master` をクリックして `ブランチの管理` を選択する
- チームエクスプローラーの `master` の下にあるブランチを選択し、右クリックで削除を選択する


## まとめ

共同での開発の手順

1. 変更を加えるための topic ブランチを作成する
- 変更を加える
- 変更を Commit する
- 変更を Push する
- :octocat: GitHub上で Pull Request を作成する
- :octocat: レビューとマージを行う
- :octocat: マージ後に topic ブランチ を削除する
- Visual Studio に戻り、`master` ブランチで pull する
- ローカルリポジトリ内からも topic ブランチを削除する
